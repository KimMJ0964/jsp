<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyPage</title>

    <style>
        .outer {
            background-color: black;
            color: white;
            width: 1000px;
            margin: auto;
            margin-top : 50px;
            padding: 0px;
        }
        table {
            margin: auto;
        }
    </style>
</head>
<body>
        <%@ include file="../common/menubar.jsp" %>

        <%
            String userId = loginUser.getUserId();
            String userName = loginUser.getUserName();
            String phone = loginUser.getPhone() == null ? "" : loginUser.getPhone();
            String email = loginUser.getEmail() == null ? "" : loginUser.getEmail();
            String address = loginUser.getAddress() == null ? "" : loginUser.getAddress();
            String interest = loginUser.getInterest() == null ? "" : loginUser.getInterest();
        %>

        <div class="outer">
            <br>
            <h2 align="center">마이페이지</h2>

            <form action="<%=contextPath %>/update.me" method="post" id="update-form">
                <table>
                    <tr>
                        <td>* 아이디</td>
                        <td><input type="text" name="userId" maxlength="12" value="${loginUser.id}" readonly></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>* 이름</td>
                        <td><input type="text" name="userName" maxlength="6" value="<%=userName %>" readonly></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>전화번호</td>
                        <td><input type="text" name="phone" placeholder="- 포함해서 입력"></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>이메일</td>
                        <td><input type="email" name="email"></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>주소</td>
                        <td><input type="text" name="address"></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>관심분야</td>
                        <td>
                            <label>
                                <input type="checkbox" name="interest" id="sports" value="운동"></td>
                                운동
                            </label>
                            <label>
                                <input type="checkbox" name="interest" id="sports" value="등산"></td>
                                등산
                            </label>
                            <label>
                                <input type="checkbox" name="interest" id="sports" value="낚시"></td>
                                낚시
                            </label>
                            <label>
                                <input type="checkbox" name="interest" id="sports" value="요리"></td>
                                요리
                            </label>
                            <label>
                                <input type="checkbox" name="interest" id="sports" value="게임"></td>
                                게임
                            </label>
                            <label>
                                <input type="checkbox" name="interest" id="sports" value="영화"></td>
                                영화
                            </label>
                            <label>
                                <input type="checkbox" name="interest" id="sports" value="기타"></td>
                                기타
                            </label>
                        <td></td>
                    </tr>
                </table>
                <script>
                    const interest = "<%=interest%>";   // 운동, 게임, 영화
                    const inputArr = document.querySelectorAll("input[name=interest]");
                    // [<input>,<input>,<input>,<input>,<input>,<input>]

                    for(let input of inputArr) {
                        if(interest.includes(input.value)) {    // interes에 input.value의 값이 포함되어 있다면
                            input.checked = true;
                        }
                    }
                </script>
                <b2></b2>
                <b2></b2>

                <div align="center">
                    <button type="submit" class="btn btn-secondary">정보변경</button>
                    <button type="button" class="btn btn-primary">비밀번호 변경</button>
                    <button type="button" class="btn btn-danger">회원탈퇴</button>
                </div>
            </form>
        </div>
</body>
</html>